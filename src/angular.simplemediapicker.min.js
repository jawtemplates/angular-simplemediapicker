(function(c,a,d){var b=a.module("jaw.simplemediapicker",[]);b.directive("simplemediapicker",function(){return{require:"?ngModel",replace:true,transclude:false,scope:{componentPicker:"=ngModel",inputName:"@name"},restrict:"A",template:'<div class="simplemediapicker" ><input type="hidden"  name="{{ inputName }}" ng-model="componentPicker" value="{{ componentPicker }}" /><img  ng-repeat="(is,soubor) in componentPicker" ng-src="{{soubor.url}}" ng-show="mod" /><ul ng-show="!mod"><li ng-repeat="(is,soubor) in componentPicker">{{soubor.url}}</li></ul><div class"clear"></div><div id="{{ inputName }}-insert" ng-click="open_media()" class="button jaw-insert-simplemedia add_media"><i class="icon-image2 "></i> Choose Image</div><div id="{{ inputName }}-remove" ng-click="close_media()" class="button jaw-remove-simplemedia remove_media"><i class="icon-close "></i> Remove</div></div>',link:function(h,g,e,k){var i;var f=a.element(g.children()[0]);var j=j||new Array();if(e.multiple===d){e.multiple=false}if(e.mod=="list"){e.mod=false}else{e.mod=true}h.mod=e.mod;h.open_media=function(){if(i){i.open();return}i=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("Choose Image"),button:{text:jQuery(this).data("Insert"),},multiple:e.multiple});i.on("select",function(){var m;m=new Array();var l=i.state().get("selection").toJSON();jQuery.each(l,function(o,n){m.push({id:n.id,url:n.url})});f.val(JSON.stringify(m));h.componentPicker=m;h.$apply()});i.open()};h.close_media=function(){var l=null;f.val(JSON.stringify(l));h.componentPicker=l;h.$apply()}}}})})(window,window.angular);